<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
</head>
<body>
    <style> 
     body {
        background-color:rgb(158, 152, 116);
        color:rgb(255,255,255);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin-top: 25%;
    }
    div{
        width: 15px; 
        height: 15px;
        border: 15px solid green;
        padding: 15px;
        background:green;
        margin: 0 auto;
    }
    </style>
    <h1 style="margin-top: -20%;margin-bottom: 10%;">Welcome To 36 boxes Game</h1>
        <table id ="table">
        </table>
    <script>
            c();
        function c (){  
            var table = document.getElementById("table");
            for (let index = 0; index < 6; index++) {
                var row = document.createElement("tr");
                for (let index2 = 0; index2 < 6; index2++) {
                    var dt = document.createElement("td");
                    var div = document.createElement("div");
                    dt.appendChild(div);
                    row.appendChild(dt);
                    table.appendChild(row);
                    div.setAttribute("class","divs") ;
                }
            }
            rn();   
            }
            function rn(){
                var divs = document.getElementsByClassName("divs");
                for (let index3 = 0; index3 <36 ; index3++) {
                    let divs3=divs.item(index3);
                    var vv=30;
                    if(vv==30 && index3 ==vv){
                        divs3.style.backgroundColor="orange";
                    }
                    // if(index3==10 || index3 ==15  || index3 ==20 ){
                    //     divs3.style.backgroundColor="black";
                    // }
                    if(index3 ==5){
                        divs3.style.backgroundColor="red"; 
                    }
            }
            let ob=Math.floor(Math.random()*4)+3;
            for(i=ob;i<9;){
                let rand=Math.floor(Math.random()*36);
                    if(rand!=30 && rand !=31 && rand!=24
                    && rand!=5 && rand!=4 && rand!=11)
                divs.item(rand).style.backgroundColor="black";
                i++;
            }
        }
        function nn(){
        var divsX = document.getElementsByClassName("divs");
        var divsY = document.getElementsByClassName("divs");
        var x=30;
        var y=30;
        document.addEventListener("keydown", function(e){
            var key =e.which;
            let startPoint=divsX[x];     //arrow up
            let endPoint=divsY[y];
            switch(key){
                case 38:
                x-=6;
                startPoint=divsX[x];
                if(startPoint.style.backgroundColor!="black"&&startPoint.style.backgroundColor!="red"){
                    endPoint=divsY[y];
                    y-=6;
                    startPoint.style.backgroundColor="yellow";
                    endPoint.style.backgroundColor="green";
                }else if (startPoint.style.backgroundColor=="red"){
                    startPoint.style.backgroundColor="yellow";
                    endPoint.style.backgroundColor="green";
                    alert("مبرووووووك فزت");
                    endPoint=divsY[y];
                    y-=6;
                }
                else{
                    alert("you have smashed your head!")
                    x+=6;
               }
                break;
                case 37:    
                x-=1;
                     //arrow up
                    startPoint=divsX[x];
                if(startPoint.style.backgroundColor!="black"&&startPoint.style.backgroundColor!="red"){
                    endPoint=divsY[y];
                    startPoint.style.backgroundColor="yellow";
                    endPoint.style.backgroundColor="green";
                    y-=1;
            }else if (startPoint.style.backgroundColor=="red"){
                startPoint.style.backgroundColor="yellow";
                endPoint.style.backgroundColor="green";
                alert("مبرووووووك فزت");
                endPoint=divsY[y];
                    y-=1;
                }
                else{
                    alert("you have smashed your head!")
                    x+=1;
               }
                break;
                case 40:
                x+=6;
                startPoint=divsX[x];
                if(startPoint.style.backgroundColor!="black"&&startPoint.style.backgroundColor!="red"){
                    endPoint=divsY[y];
                    y+=6;
                    startPoint.style.backgroundColor="yellow";
                    endPoint.style.backgroundColor="green";
                }else if (startPoint.style.backgroundColor=="red"){
                    endPoint=divsY[y];
                    y+=6;
                    startPoint.style.backgroundColor="yellow";
                    endPoint.style.backgroundColor="green";
                }
                else{
                    alert("you have smashed your head!")
                    x-=6;
               }
                break;
                case 39:
                x+=1;
                startPoint=divsX[x];
                if(startPoint.style.backgroundColor!="black"&&startPoint.style.backgroundColor!="red"){
                    endPoint=divsY[y];
                    y+=1;
                    startPoint.style.backgroundColor="yellow";
                    endPoint.style.backgroundColor="green";
                }else if (startPoint.style.backgroundColor=="red"){
                    startPoint.style.backgroundColor="yellow";
                    endPoint.style.backgroundColor="green";
                    alert("مبرووووووك فزت")
                    endPoint=divsY[y];
                    y+=1;
                }
                else{
                    alert("you have smashed your head!")
                    x-=1;
               }
                break;
        }
    });
    }
    nn();
    </script>
</body>
</html>
